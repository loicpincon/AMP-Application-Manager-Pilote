<div class="row">

    <div class="col-sm-12" style="text-align: center;">
        <h1>Ajouter une nouvelle application</h1>
    </div>

    <form [formGroup]="formulaire" (ngSubmit)="onSubmit(formulaire.value)">

        <div class="col-sm-12">
            <mat-form-field class="example-full-width">
                <input required formControlName="name" matInput placeholder="Nom application">
            </mat-form-field>


        </div>

        <div class="col-sm-12">
            <mat-form-field class="example-full-width">
                <mat-label>Type application</mat-label>
                <mat-select required formControlName="typeApp" [(value)]="formulaire.value.typeApp">
                    <mat-option *ngFor="let type of typeApplication" [value]="type">
                        {{type}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-sm-12" *ngIf="formulaire.value.typeApp">
            <div class="col-sm-12">
                <h3>Type : {{formulaire.value.typeApp}}</h3>
            </div>
            <div class="col-sm-12" formGroupName="nodeJsApplication" *ngIf="formulaire.value.typeApp=='NODEJS'">
                <mat-form-field class="example-full-width">
                    <input required matInput formControlName="versionNode" placeholder="Version node JS">
                </mat-form-field>
            </div>
            <div class="col-sm-12" formGroupName="warApplication" *ngIf="formulaire.value.typeApp=='WAR'">
                <mat-form-field class="example-full-width">
                    <input required matInput formControlName="versionWar" placeholder="Version WAR">
                </mat-form-field>
                <mat-form-field class="example-full-width">
                    <input required matInput formControlName="urlRepoNexus" placeholder="URL repository nexus">
                </mat-form-field>
            </div>
            <div class="col-sm-12" formGroupName="bashApplication" *ngIf="formulaire.value.typeApp=='BASH'">
                <mat-form-field class="example-full-width">
                    <input required matInput formControlName="urlBatch" placeholder="URL Batch">
                </mat-form-field>
            </div>
        </div>

        <div class="col-sm-12">
            <button [disabled]="!formulaire.valid" mat-raised-button class="button" color="primary"
                type="submit">Ajouter</button>
        </div>


    </form>


</div>